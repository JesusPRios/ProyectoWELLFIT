@{
    ViewBag.Title = "Bienvenido Aprendiz";
    Layout = "~/Views/Shared/ViewAprendiz.cshtml";
}

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Aprendiz - WELLFIT</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" rel="stylesheet" />
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
</head>

<style>
    body {
        background-color: #FBFBFB;
    }

    .carousel-inner {
        border-radius: 10px;
        margin-top: 10px; /* Reducido el margen superior */
        box-shadow: 5px 0 0 5px rgba(255, 255, 255, .5);
        overflow: hidden; /* Para ocultar las partes de las imágenes que exceden el contenedor */
    }

    .modal-title {
        font-size: 30px;
        font-weight: 800;
    }

    .carousel-inner img {
        width: 100%; /* Ajustar al 100% del contenedor */
        max-height: 500px; /* Reducir la altura máxima */
        object-fit: cover; /* Para que las imágenes se ajusten sin distorsión */
    }

    /* Estilos para el botón */
    .btn-ver-codigo {
        background-color: #fca311;
        color: #000;
        padding: 10px 20px; /* Espaciado ajustado */
        font-weight: bold;
        text-decoration: inherit;
        border-color: #fff;
        border-width: 2.5px;
        border-style: solid;
        border-radius: 5px;
        outline: none;
    }

    .btn-secondary {
        color: #000; 
        font-weight: 500;
    }

    .btn-secondary:hover{
        color:#000;
    }
</style>

<div class="container">
    <!-- Botón para ver el código -->
    <div class="text-left mt-3">
        <!-- Alineado a la izquierda -->
        <button type="button" class="btn btn-ver-codigo" data-toggle="modal" data-target="#codigoModal">
            Ver Código Diario
        </button>
    </div>

    <!-- Carousel -->
    <div id="carouselExampleIndicators" class="carousel slide mt-3" data-ride="carousel">
        <ol class="carousel-indicators">
            <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
            <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
            <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
        </ol>
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img class="d-block w-100" src="~/Content/IMG/ilo.jpg" alt="First slide">
            </div>
            <div class="carousel-item">
                <img class="d-block w-100" src="~/Content/IMG/3.jpg" alt="Second slide">
            </div>
            <div class="carousel-item">
                <img class="d-block w-100" src="~/Content/IMG/llll.jpg" alt="Third slide">
            </div>
            <div class="carousel-item">
                <img class="d-block w-100" src="~/Content/IMG/4.jpg" alt="Fourth slide">
            </div>
        </div>
        <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>

    <!-- Modal -->
    <div class="modal fade" id="codigoModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true" data-bs-backdrop="static">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Código Diario</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <!-- Contenido del modal: mostrar el código -->
                    <p>El código diario es: <span id="codigoDiario">@ViewBag.CodigoDiario</span></p>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-ver-codigo" data-dismiss="modal">Cerrar</button>
                    <button type="button" class="btn btn-ver-codigo" onclick="copiarCodigo()">Copiar Código</button>
                </div>
            </div>
        </div>
    </div>

</div>

<script>
    function copiarCodigo() {
        var codigoDiario = document.getElementById("codigoDiario").innerText;

        // Crear un área de texto temporal
        var textarea = document.createElement("textarea");
        textarea.value = codigoDiario;

        // Agregar el área de texto temporal al DOM
        document.body.appendChild(textarea);

        // Seleccionar y copiar el texto
        textarea.select();
        document.execCommand("copy");

        // Eliminar el área de texto temporal del DOM
        document.body.removeChild(textarea);

        // Mostrar un mensaje de confirmación
        alert("¡El código se ha copiado al portapapeles!");
    }
</script>
